{"level":"INFO","timestamp":"2025-02-23T02:36:36.138+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T02:36:36.308+0700","caller":"initialize/kafka.go:28","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T02:36:36.308+0700","caller":"initialize/kafka.go:63","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T02:36:36.308+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T02:36:52.184+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T02:36:52.346+0700","caller":"initialize/kafka.go:18","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T02:36:52.346+0700","caller":"initialize/kafka.go:28","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T02:36:52.346+0700","caller":"initialize/kafka.go:63","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T02:36:52.347+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:24:46.184+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:24:46.365+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:24:46.366+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:24:46.366+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:24:46.366+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:27:56.688+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:27:56.876+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:27:56.876+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:27:56.876+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:27:56.877+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:28:27.678+0700","caller":"consumer/event.consumer.go:21","msg":"Message consumed from Kafka","key":"UserCreated","value":"{\"payload\":{\"ID\":6,\"Username\":\"bhtoan2205\",\"Email\":\"banhhaotoan2003@gmail.com\",\"FirstName\":\"Hao\",\"LastName\":\"Toan\",\"Phone\":\"0123456789\",\"BirthDate\":\"2002-02-20T00:00:00Z\",\"Address\":\"\",\"Settings\":null,\"Role\":\"\"},\"occurred\":\"2025-02-23T04:28:26.593636+07:00\"}"}
{"level":"WARN","timestamp":"2025-02-23T04:28:27.678+0700","caller":"consumer/event.consumer.go:40","msg":"Unknown message key","key":"UserCreated"}
{"level":"INFO","timestamp":"2025-02-23T04:32:37.940+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:32:38.159+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:32:38.160+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:32:38.160+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:32:38.161+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:32:58.475+0700","caller":"consumer/event.consumer.go:21","msg":"Message consumed from Kafka","key":"UserCreated","value":"{\"payload\":{\"ID\":7,\"Username\":\"bhtoan2205\",\"Email\":\"banhhaotoan2003@gmail.com\",\"FirstName\":\"Hao\",\"LastName\":\"Toan\",\"Phone\":\"0123456789\",\"BirthDate\":\"2002-02-20T00:00:00Z\",\"Address\":\"\",\"Settings\":null,\"Role\":\"\"},\"occurred\":\"2025-02-23T04:32:40.684141+07:00\"}"}
{"level":"INFO","timestamp":"2025-02-23T04:32:59.308+0700","caller":"consumer/event.consumer.go:37","msg":"Successfully indexed user","userID":"\u0000"}
{"level":"INFO","timestamp":"2025-02-23T04:33:20.335+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:33:20.528+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:33:20.528+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:33:20.528+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:33:20.529+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:33:52.429+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:33:52.558+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:33:52.558+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:33:52.558+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:33:52.558+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:34:19.177+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:34:19.329+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:34:19.329+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:34:19.329+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:34:19.329+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"ERROR","timestamp":"2025-02-23T04:34:27.718+0700","caller":"controller/user.controller.go:107","msg":"Failed to bind query: ","error":"Key: 'SearchUserQuery.Query' Error:Field validation for 'Query' failed on the 'required' tag","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:107\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"INFO","timestamp":"2025-02-23T04:34:55.954+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:34:56.150+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:34:56.150+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:34:56.150+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:34:56.150+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:35:33.310+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:35:33.450+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:35:33.451+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:35:33.451+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:35:33.451+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:37:39.444+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:37:39.585+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:37:39.586+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:37:39.586+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:37:39.586+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"ERROR","timestamp":"2025-02-23T04:37:41.252+0700","caller":"controller/user.controller.go:107","msg":"Failed to bind query: ","error":"Key: 'SearchUserQuery.Query' Error:Field validation for 'Query' failed on the 'required' tag","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:107\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"INFO","timestamp":"2025-02-23T04:38:23.281+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:38:23.443+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:38:23.443+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:38:23.443+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:38:23.443+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:40:15.331+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:40:15.592+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:40:15.592+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:40:15.592+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:40:15.592+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:40:47.288+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:40:47.458+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:40:47.458+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:40:47.458+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:40:47.459+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:41:18.488+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:41:18.657+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:41:18.657+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:41:18.657+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:41:18.657+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:42:51.787+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:42:51.963+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:42:51.963+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:42:51.963+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:42:51.964+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:43:51.305+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:43:51.485+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:43:51.485+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:43:51.485+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:43:51.485+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:44:20.292+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:44:20.457+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:44:20.457+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:44:20.457+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:44:20.458+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:45:28.276+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:45:28.480+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:45:28.480+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:45:28.480+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:45:28.480+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:49:59.872+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:50:00.025+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:50:00.025+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:50:00.025+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:50:00.025+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:50:31.266+0700","caller":"consumer/event.consumer.go:21","msg":"Message consumed from Kafka","key":"UserCreated","value":"{\"payload\":{\"ID\":8,\"Username\":\"bhtoan2205\",\"Email\":\"banhhaotoan2003@gmail.com\",\"FirstName\":\"Hao\",\"LastName\":\"Toan\",\"Phone\":\"0123456789\",\"BirthDate\":\"2002-02-20T00:00:00Z\",\"Address\":\"\",\"Settings\":null,\"Role\":\"\"},\"occurred\":\"2025-02-23T04:50:30.248921+07:00\"}"}
{"level":"INFO","timestamp":"2025-02-23T04:50:31.342+0700","caller":"consumer/event.consumer.go:37","msg":"Successfully indexed user","userID":"\u0000"}
{"level":"INFO","timestamp":"2025-02-23T04:54:31.811+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:54:31.984+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:54:31.984+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:54:31.984+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:54:31.984+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:54:54.071+0700","caller":"consumer/event.consumer.go:21","msg":"Message consumed from Kafka","key":"UserCreated","value":"{\"payload\":{\"ID\":10,\"Username\":\"bhtoan2205\",\"Email\":\"banhhaotoan2003@gmail.com\",\"FirstName\":\"Hao\",\"LastName\":\"Toan\",\"Phone\":\"0123456789\",\"BirthDate\":\"2002-02-20T00:00:00Z\",\"Address\":\"\",\"Settings\":null,\"Role\":\"\"},\"occurred\":\"2025-02-23T04:54:47.466746+07:00\"}"}
{"level":"INFO","timestamp":"2025-02-23T04:54:54.183+0700","caller":"consumer/event.consumer.go:37","msg":"Successfully indexed user","userID":"\u0000"}
{"level":"INFO","timestamp":"2025-02-23T04:57:29.301+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T04:57:29.627+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:57:29.627+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T04:57:29.627+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T04:57:29.628+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T04:57:51.093+0700","caller":"consumer/event.consumer.go:22","msg":"Message consumed from Kafka","key":"UserCreated","value":"{\"payload\":{\"ID\":11,\"Username\":\"bhtoan2205\",\"Email\":\"banhhaotoan2003@gmail.com\",\"FirstName\":\"Hao\",\"LastName\":\"Toan\",\"Phone\":\"0123456789\",\"BirthDate\":\"2002-02-20T00:00:00Z\",\"Address\":\"\",\"Settings\":null,\"Role\":\"\"},\"occurred\":\"2025-02-23T04:57:42.771069+07:00\"}"}
{"level":"INFO","timestamp":"2025-02-23T05:01:01.110+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T05:01:01.249+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T05:01:01.249+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T05:01:01.249+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T05:01:01.249+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T05:01:37.269+0700","caller":"consumer/event.consumer.go:22","msg":"Message consumed from Kafka","key":"UserCreated","value":"{\"payload\":{\"ID\":12,\"Username\":\"bhtoan2205\",\"Email\":\"banhhaotoan2003@gmail.com\",\"FirstName\":\"Hao\",\"LastName\":\"Toan\",\"Phone\":\"0123456789\",\"BirthDate\":\"2002-02-20T00:00:00Z\",\"Address\":\"\",\"Settings\":null,\"Role\":\"\"},\"occurred\":\"2025-02-23T05:01:36.250398+07:00\"}"}
{"level":"INFO","timestamp":"2025-02-23T05:02:09.787+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T05:02:09.941+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T05:02:09.941+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T05:02:09.941+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T05:02:09.942+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:13:28.659+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:13:29.006+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:13:29.006+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:13:29.006+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:13:29.006+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:20:58.401+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:20:58.768+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:20:58.769+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:20:58.769+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:20:58.769+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:36:32.899+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:36:33.149+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:36:33.149+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:36:33.149+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:36:33.149+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"ERROR","timestamp":"2025-02-23T15:36:36.483+0700","caller":"controller/user.controller.go:108","msg":"Failed to bind query: ","error":"Key: 'SearchUserQuery.Page' Error:Field validation for 'Page' failed on the 'required' tag\nKey: 'SearchUserQuery.Limit' Error:Field validation for 'Limit' failed on the 'required' tag","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:108\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"INFO","timestamp":"2025-02-23T15:39:28.531+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:39:28.683+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:39:28.684+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:39:28.684+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:39:28.684+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:41:05.247+0700","caller":"consumer/event.consumer.go:22","msg":"Message consumed from Kafka","key":"UserCreated","value":"{\"payload\":{\"ID\":13,\"Username\":\"bhtoan2207\",\"Email\":\"banhhaotoan2007@gmail.com\",\"FirstName\":\"Hao\",\"LastName\":\"Toan\",\"Phone\":\"0123456789\",\"BirthDate\":\"2002-02-20T00:00:00Z\",\"Address\":\"\",\"Settings\":null,\"Role\":\"\"},\"occurred\":\"2025-02-23T15:41:04.232309+07:00\"}"}
{"level":"INFO","timestamp":"2025-02-23T15:42:42.582+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:42:42.722+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:42:42.722+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:42:42.722+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:42:42.722+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:44:48.023+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:44:48.176+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:44:48.176+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:44:48.176+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:44:48.177+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"ERROR","timestamp":"2025-02-23T15:44:52.448+0700","caller":"service/user.service.go:58","msg":"Failed to create user: ","error":"Error 1062 (23000): Duplicate entry 'bhtoan2207' for key 'users.idx_users_username'","stacktrace":"github.com/bhtoan2204/user/internal/application/service.(*UserService).CreateUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:58\ngithub.com/bhtoan2204/user/internal/application/command/handler.(*CreateUserCommandHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/command/handler/create_user.handler.go:27\ngithub.com/bhtoan2204/user/internal/application/command.SetUpCommandBus.func1\n\t/Users/toanbanh/youtube-backend/user/internal/application/command/initial_command_bus.go:18\ngithub.com/bhtoan2204/user/internal/application/command.(*CommandBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/command/command_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).CreateUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:43\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"INFO","timestamp":"2025-02-23T15:45:11.226+0700","caller":"consumer/event.consumer.go:22","msg":"Message consumed from Kafka","key":"UserCreated","value":"{\"payload\":{\"ID\":15,\"Username\":\"bhtoan2209\",\"Email\":\"banhhaotoan2009@gmail.com\",\"FirstName\":\"Hao\",\"LastName\":\"Toan\",\"Phone\":\"0123456789\",\"BirthDate\":\"2002-02-20T00:00:00Z\",\"Address\":\"\",\"Settings\":null,\"Role\":\"\"},\"occurred\":\"2025-02-23T15:45:05.796887+07:00\"}"}
{"level":"INFO","timestamp":"2025-02-23T15:46:35.036+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:46:35.205+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:46:35.205+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:46:35.205+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:46:35.205+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:46:56.232+0700","caller":"consumer/event.consumer.go:22","msg":"Message consumed from Kafka","key":"UserCreated","value":"{\"payload\":{\"ID\":16,\"Username\":\"bhtoan220s\",\"Email\":\"banhhaotoan2009a@gmail.com\",\"FirstName\":\"Hao\",\"LastName\":\"Toan\",\"Phone\":\"0123456789\",\"BirthDate\":\"2002-02-20T00:00:00Z\",\"Address\":\"\",\"Settings\":null,\"Role\":\"\"},\"occurred\":\"2025-02-23T15:46:50.407352+07:00\"}"}
{"level":"ERROR","timestamp":"2025-02-23T15:47:39.931+0700","caller":"controller/user.controller.go:108","msg":"Failed to bind query: ","error":"Key: 'SearchUserQuery.Page' Error:Field validation for 'Page' failed on the 'required' tag","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:108\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T15:47:47.163+0700","caller":"controller/user.controller.go:108","msg":"Failed to bind query: ","error":"Key: 'SearchUserQuery.Query' Error:Field validation for 'Query' failed on the 'required' tag","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:108\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T15:47:58.834+0700","caller":"controller/user.controller.go:108","msg":"Failed to bind query: ","error":"Key: 'SearchUserQuery.Query' Error:Field validation for 'Query' failed on the 'required' tag","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:108\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"INFO","timestamp":"2025-02-23T15:51:28.361+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:51:28.525+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:51:28.525+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:51:28.525+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:51:28.526+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:53:44.072+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:53:44.286+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:53:44.286+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:53:44.286+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:53:44.286+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:54:17.956+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:54:18.183+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:54:18.183+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:54:18.183+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:54:18.183+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:54:38.635+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:54:38.771+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:54:38.771+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:54:38.771+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:54:38.771+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:55:39.519+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:55:39.689+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:55:39.689+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:55:39.689+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:55:39.689+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T15:57:56.275+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T15:57:56.429+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:57:56.429+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T15:57:56.429+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T15:57:56.429+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T16:00:08.221+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T16:00:08.405+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:00:08.405+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:00:08.405+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T16:00:08.405+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T16:02:38.330+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T16:02:38.473+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:02:38.473+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:02:38.473+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T16:02:38.473+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"ERROR","timestamp":"2025-02-23T16:02:40.224+0700","caller":"repository/es_user.repository.go:100","msg":"Error response from search","response":"[400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"illegal_argument_exception\",\n          \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n        }\n      }\n    ],\n    \"caused_by\" : {\n      \"type\" : \"illegal_argument_exception\",\n      \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\",\n      \"caused_by\" : {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    }\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/infrastructure/db/elasticsearch/repository.(*ESUserRepository).Search\n\t/Users/toanbanh/youtube-backend/user/internal/infrastructure/db/elasticsearch/repository/es_user.repository.go:100\ngithub.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:187\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:02:40.225+0700","caller":"service/user.service.go:189","msg":"Failed to search users: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"illegal_argument_exception\",\n          \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n        }\n      }\n    ],\n    \"caused_by\" : {\n      \"type\" : \"illegal_argument_exception\",\n      \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\",\n      \"caused_by\" : {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    }\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:189\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:02:40.225+0700","caller":"controller/user.controller.go:114","msg":"Failed to hash password: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"illegal_argument_exception\",\n          \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n        }\n      }\n    ],\n    \"caused_by\" : {\n      \"type\" : \"illegal_argument_exception\",\n      \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\",\n      \"caused_by\" : {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    }\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:114\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:03:04.157+0700","caller":"repository/es_user.repository.go:100","msg":"Error response from search","response":"[400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"illegal_argument_exception\",\n          \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n        }\n      }\n    ],\n    \"caused_by\" : {\n      \"type\" : \"illegal_argument_exception\",\n      \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\",\n      \"caused_by\" : {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    }\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/infrastructure/db/elasticsearch/repository.(*ESUserRepository).Search\n\t/Users/toanbanh/youtube-backend/user/internal/infrastructure/db/elasticsearch/repository/es_user.repository.go:100\ngithub.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:187\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:03:04.158+0700","caller":"service/user.service.go:189","msg":"Failed to search users: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"illegal_argument_exception\",\n          \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n        }\n      }\n    ],\n    \"caused_by\" : {\n      \"type\" : \"illegal_argument_exception\",\n      \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\",\n      \"caused_by\" : {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    }\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:189\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:03:04.159+0700","caller":"controller/user.controller.go:114","msg":"Failed to hash password: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"illegal_argument_exception\",\n          \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n        }\n      }\n    ],\n    \"caused_by\" : {\n      \"type\" : \"illegal_argument_exception\",\n      \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\",\n      \"caused_by\" : {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    }\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:114\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:03:45.565+0700","caller":"repository/es_user.repository.go:100","msg":"Error response from search","response":"[400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"illegal_argument_exception\",\n          \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n        }\n      }\n    ],\n    \"caused_by\" : {\n      \"type\" : \"illegal_argument_exception\",\n      \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\",\n      \"caused_by\" : {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    }\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/infrastructure/db/elasticsearch/repository.(*ESUserRepository).Search\n\t/Users/toanbanh/youtube-backend/user/internal/infrastructure/db/elasticsearch/repository/es_user.repository.go:100\ngithub.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:187\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:03:45.567+0700","caller":"service/user.service.go:189","msg":"Failed to search users: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"illegal_argument_exception\",\n          \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n        }\n      }\n    ],\n    \"caused_by\" : {\n      \"type\" : \"illegal_argument_exception\",\n      \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\",\n      \"caused_by\" : {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    }\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:189\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:03:45.568+0700","caller":"controller/user.controller.go:114","msg":"Failed to hash password: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"illegal_argument_exception\",\n          \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n        }\n      }\n    ],\n    \"caused_by\" : {\n      \"type\" : \"illegal_argument_exception\",\n      \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\",\n      \"caused_by\" : {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [username] in order to load field data by uninverting the inverted index. Note that this can use significant memory.\"\n      }\n    }\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:114\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"INFO","timestamp":"2025-02-23T16:05:38.998+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T16:05:39.177+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:05:39.177+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:05:39.177+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T16:05:39.177+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"ERROR","timestamp":"2025-02-23T16:05:41.371+0700","caller":"repository/es_user.repository.go:107","msg":"Error response from search","response":"[400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"query_shard_exception\",\n        \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n        \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n        \"index\" : \"users\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"query_shard_exception\",\n          \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n          \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n          \"index\" : \"users\"\n        }\n      }\n    ]\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/infrastructure/db/elasticsearch/repository.(*ESUserRepository).Search\n\t/Users/toanbanh/youtube-backend/user/internal/infrastructure/db/elasticsearch/repository/es_user.repository.go:107\ngithub.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:187\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:05:41.371+0700","caller":"service/user.service.go:189","msg":"Failed to search users: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"query_shard_exception\",\n        \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n        \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n        \"index\" : \"users\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"query_shard_exception\",\n          \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n          \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n          \"index\" : \"users\"\n        }\n      }\n    ]\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:189\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:05:41.372+0700","caller":"controller/user.controller.go:114","msg":"Failed to hash password: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"query_shard_exception\",\n        \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n        \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n        \"index\" : \"users\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"query_shard_exception\",\n          \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n          \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n          \"index\" : \"users\"\n        }\n      }\n    ]\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:114\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:07:21.545+0700","caller":"repository/es_user.repository.go:107","msg":"Error response from search","response":"[400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"query_shard_exception\",\n        \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n        \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n        \"index\" : \"users\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"query_shard_exception\",\n          \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n          \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n          \"index\" : \"users\"\n        }\n      }\n    ]\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/infrastructure/db/elasticsearch/repository.(*ESUserRepository).Search\n\t/Users/toanbanh/youtube-backend/user/internal/infrastructure/db/elasticsearch/repository/es_user.repository.go:107\ngithub.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:187\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:07:21.546+0700","caller":"service/user.service.go:189","msg":"Failed to search users: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"query_shard_exception\",\n        \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n        \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n        \"index\" : \"users\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"query_shard_exception\",\n          \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n          \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n          \"index\" : \"users\"\n        }\n      }\n    ]\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:189\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:07:21.546+0700","caller":"controller/user.controller.go:114","msg":"Failed to hash password: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"query_shard_exception\",\n        \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n        \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n        \"index\" : \"users\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"query_shard_exception\",\n          \"reason\" : \"No mapping found for [id.keyword] in order to sort on\",\n          \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n          \"index\" : \"users\"\n        }\n      }\n    ]\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:114\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"INFO","timestamp":"2025-02-23T16:08:11.852+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T16:08:12.086+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:08:12.087+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:08:12.087+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T16:08:12.087+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T16:09:29.834+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T16:09:30.047+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:09:30.048+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:09:30.048+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T16:09:30.048+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T16:10:17.643+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T16:10:17.827+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:10:17.828+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:10:17.828+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T16:10:17.828+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-23T16:10:57.505+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T16:10:57.809+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:10:57.809+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:10:57.809+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T16:10:57.810+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"ERROR","timestamp":"2025-02-23T16:10:59.504+0700","caller":"repository/es_user.repository.go:124","msg":"Error response from search","response":"[400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"parsing_exception\",\n        \"reason\" : \"No text specified for multi_match query\",\n        \"line\" : 1,\n        \"col\" : 89\n      }\n    ],\n    \"type\" : \"parsing_exception\",\n    \"reason\" : \"No text specified for multi_match query\",\n    \"line\" : 1,\n    \"col\" : 89\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/infrastructure/db/elasticsearch/repository.(*ESUserRepository).Search\n\t/Users/toanbanh/youtube-backend/user/internal/infrastructure/db/elasticsearch/repository/es_user.repository.go:124\ngithub.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:187\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:10:59.504+0700","caller":"service/user.service.go:189","msg":"Failed to search users: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"parsing_exception\",\n        \"reason\" : \"No text specified for multi_match query\",\n        \"line\" : 1,\n        \"col\" : 89\n      }\n    ],\n    \"type\" : \"parsing_exception\",\n    \"reason\" : \"No text specified for multi_match query\",\n    \"line\" : 1,\n    \"col\" : 89\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:189\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:10:59.504+0700","caller":"controller/user.controller.go:114","msg":"Failed to hash password: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"parsing_exception\",\n        \"reason\" : \"No text specified for multi_match query\",\n        \"line\" : 1,\n        \"col\" : 89\n      }\n    ],\n    \"type\" : \"parsing_exception\",\n    \"reason\" : \"No text specified for multi_match query\",\n    \"line\" : 1,\n    \"col\" : 89\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:114\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"INFO","timestamp":"2025-02-23T16:11:17.343+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-23T16:11:17.476+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:11:17.476+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-23T16:11:17.476+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-23T16:11:17.476+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"ERROR","timestamp":"2025-02-23T16:12:03.505+0700","caller":"repository/es_user.repository.go:119","msg":"Error response from search","response":"[400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"query_shard_exception\",\n        \"reason\" : \"No mapping found for [deleted_at] in order to sort on\",\n        \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n        \"index\" : \"users\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"query_shard_exception\",\n          \"reason\" : \"No mapping found for [deleted_at] in order to sort on\",\n          \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n          \"index\" : \"users\"\n        }\n      }\n    ]\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/infrastructure/db/elasticsearch/repository.(*ESUserRepository).Search\n\t/Users/toanbanh/youtube-backend/user/internal/infrastructure/db/elasticsearch/repository/es_user.repository.go:119\ngithub.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:187\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:12:03.505+0700","caller":"service/user.service.go:189","msg":"Failed to search users: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"query_shard_exception\",\n        \"reason\" : \"No mapping found for [deleted_at] in order to sort on\",\n        \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n        \"index\" : \"users\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"query_shard_exception\",\n          \"reason\" : \"No mapping found for [deleted_at] in order to sort on\",\n          \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n          \"index\" : \"users\"\n        }\n      }\n    ]\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/service.(*UserService).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:189\ngithub.com/bhtoan2204/user/internal/application/query/handler.(*SearchUserQueryHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/handler/search_user.handler.go:17\ngithub.com/bhtoan2204/user/internal/infrastructure/initialize.InitRouter.SetUpQueryBus.func2\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/init_query_bus.go:16\ngithub.com/bhtoan2204/user/internal/application/query.(*QueryBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/query/query_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"ERROR","timestamp":"2025-02-23T16:12:03.506+0700","caller":"controller/user.controller.go:114","msg":"Failed to hash password: ","error":"error response from search: [400 Bad Request] {\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"query_shard_exception\",\n        \"reason\" : \"No mapping found for [deleted_at] in order to sort on\",\n        \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n        \"index\" : \"users\"\n      }\n    ],\n    \"type\" : \"search_phase_execution_exception\",\n    \"reason\" : \"all shards failed\",\n    \"phase\" : \"query\",\n    \"grouped\" : true,\n    \"failed_shards\" : [\n      {\n        \"shard\" : 0,\n        \"index\" : \"users\",\n        \"node\" : \"rw6LkjymTpGYhRgFSv1Rgg\",\n        \"reason\" : {\n          \"type\" : \"query_shard_exception\",\n          \"reason\" : \"No mapping found for [deleted_at] in order to sort on\",\n          \"index_uuid\" : \"HfqjYpDQTLKZF5flfhXMrA\",\n          \"index\" : \"users\"\n        }\n      }\n    ]\n  },\n  \"status\" : 400\n}\n","stacktrace":"github.com/bhtoan2204/user/internal/application/controller.(*UserController).SearchUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:114\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"INFO","timestamp":"2025-02-24T10:57:24.939+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-24T10:57:25.193+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-24T10:57:25.193+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-24T10:57:25.193+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-24T10:57:25.193+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"ERROR","timestamp":"2025-02-24T11:03:32.968+0700","caller":"service/user.service.go:58","msg":"Failed to create user: ","error":"Error 1062 (23000): Duplicate entry 'bhtoan220s' for key 'users.idx_users_username'","stacktrace":"github.com/bhtoan2204/user/internal/application/service.(*UserService).CreateUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:58\ngithub.com/bhtoan2204/user/internal/application/command/handler.(*CreateUserCommandHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/command/handler/create_user.handler.go:34\ngithub.com/bhtoan2204/user/internal/application/command.SetUpCommandBus.func1\n\t/Users/toanbanh/youtube-backend/user/internal/application/command/initial_command_bus.go:18\ngithub.com/bhtoan2204/user/internal/application/command.(*CommandBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/command/command_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).CreateUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:43\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
{"level":"INFO","timestamp":"2025-02-24T11:04:44.526+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-24T11:04:44.719+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-24T11:04:44.719+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-24T11:04:44.719+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-24T11:04:44.720+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-24T11:05:05.514+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-24T11:05:05.672+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-24T11:05:05.672+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-24T11:05:05.672+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-24T11:05:05.672+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-24T11:05:48.623+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-24T11:05:48.801+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-24T11:05:48.801+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-24T11:05:48.801+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-24T11:05:48.801+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-24T11:38:19.048+0700","caller":"initialize/logger.go:10","msg":"Logger initialized successfully"}
{"level":"INFO","timestamp":"2025-02-24T11:38:19.221+0700","caller":"initialize/kafka.go:23","msg":"Kafka producer initialized","broker":"localhost","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-24T11:38:19.221+0700","caller":"initialize/kafka.go:33","msg":"Kafka consumer initialized","broker":"localhost","group_id":"user-group","topic":"user-events"}
{"level":"INFO","timestamp":"2025-02-24T11:38:19.221+0700","caller":"initialize/kafka.go:55","msg":"Kafka initialized","KafkaConfig":{"Broker":"localhost","Port":9092,"Topic":"user-events","GroupID":"user-group"}}
{"level":"INFO","timestamp":"2025-02-24T11:38:19.222+0700","caller":"initialize/read_database.go:22","msg":"Elasticsearch client initialized"}
{"level":"INFO","timestamp":"2025-02-24T11:38:19.222+0700","caller":"initialize/debezium_consumer.go:17","msg":"Debezium consumer initialized","broker":"localhost","group_id":"mysql_server.appdb.user","topic":"debezium-consumer-group"}
{"level":"ERROR","timestamp":"2025-02-24T11:38:23.179+0700","caller":"service/user.service.go:58","msg":"Failed to create user: ","error":"Error 1062 (23000): Duplicate entry 'bhtzoana2aa20sa' for key 'users.idx_users_username'","stacktrace":"github.com/bhtoan2204/user/internal/application/service.(*UserService).CreateUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/service/user.service.go:58\ngithub.com/bhtoan2204/user/internal/application/command/handler.(*CreateUserCommandHandler).Handle\n\t/Users/toanbanh/youtube-backend/user/internal/application/command/handler/create_user.handler.go:34\ngithub.com/bhtoan2204/user/internal/application/command.SetUpCommandBus.func1\n\t/Users/toanbanh/youtube-backend/user/internal/application/command/initial_command_bus.go:18\ngithub.com/bhtoan2204/user/internal/application/command.(*CommandBus).Dispatch\n\t/Users/toanbanh/youtube-backend/user/internal/application/command/command_bus.go:30\ngithub.com/bhtoan2204/user/internal/application/controller.(*UserController).CreateUser\n\t/Users/toanbanh/youtube-backend/user/internal/application/controller/user.controller.go:43\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/toanbanh/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\t/usr/local/Cellar/go/1.23.2/libexec/src/net/http/server.go:2092"}
